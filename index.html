            document.getElementById('cart-modal').style.display = 'none';
        });
        window.addEventListener('click', function (e) {
            ['signin-modal', 'signup-modal', 'cart-modal'].forEach(id => {
                const modal = document.getElementById(id);
                if (e.target === modal) modal.style.display = 'none';
            });
        });
        // Handle Sign Up
        document.querySelector('#signup-modal form').addEventListener('submit', function (e) {
            e.preventDefault();
            const username = this.querySelector('input[type="text"]').value.trim();
            const email = this.querySelector('input[type="email"]').value.trim();
            const password = this.querySelector('input[type="password"]').value;
            if (!username || !email || !password) {
                alert("Please fill all fields.");
                return;
            }
            const users = JSON.parse(localStorage.getItem('users')) || [];
            if (users.some(user => user.email === email)) {
                alert("Email already registered.");
                return;
            }
            users.push({ username, email, password });
            localStorage.setItem('users', JSON.stringify(users));
            alert("Registration successful.");
            document.getElementById('signup-modal').style.display = 'none';
        });
        // Handle Sign In
        document.querySelector('#signin-modal form').addEventListener('submit', function (e) {
            e.preventDefault();
            const email = this.query
